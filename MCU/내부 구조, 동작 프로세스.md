## 내부구조

### 기능

- 프로그래머가 작성한 프로그램 코드 읽음
- 읽은거 처리
- 처리 후 결과를 외부에 출력

여기서 출력 : MCU의 동작수행을 말함. 데이터표시, 적외선 신호 생성, 시간확인, 외부 IC와 통신

그래서 동작 수행을 위한 프로그램이 반드시!!!! 있어야함

이 프로그램이 저장되는 장소가 메모리, 프로그래머는 이 메모리에 프로그램(MCU가 처리할 명령)을 입력함

이 프로그램 처리하는 녀석 → CPU, 근데 이프로그램이 개복잡하면 데이터를 쫌 덜어야함;;;

→ 덜어서 저장하는 곳이  메11모22리33(이런 목적으로 사용) 

![MCU 내부 구조](attachment:8caa89cc-c693-48a2-b628-16f76507df03:image.png)

MCU 내부 구조

메모리 ↔ CPU : 데이터 주고받음

CPU ↔ 보조 모듈 : 프로그램 처리 결과에 대한 정보를 주고받음

> 쫌 ~~~~ 더 자세한걸 봐보자
> 

![image.png](attachment:e5816322-4d4d-4bc7-b3b2-0d572e1973f3:image.png)

> 메모리
> 
- 플래시 메모리, EEPROM : 변경 되지 않는 데이터를 저장하기 위한 곳
- 추가 : CPU의 운영데이터는 사용 빈도가 상대적으로 높음. 그래서 RAM에 있지롱

> CPU
> 
- 레지스터 : 메모리에서 삭제된 데이터가 동작할때 까지 임시저장하기 위한 곳 == RAM
- 쉬프터 : 명령 실행 없이 데이터 바이트를 이동시킴, 그냥 데이터 이동 시킨다고 생각

> 보조 모듈
> 
- 커뮤니케이션 : SPI, I2C 같은 표준을 준수하고, 인터페이스 커뮤니케이션 대부분이 여기 있음
- AD/DA 변환 : AD컨버터와 DA 컨버터로 구성. 또한 아날로그 데이터를 비교하려 컴퍼레이터 존재!!
- 컴퍼레이터
    
    두 전압이나 신호를 비교해서 어느쪽이 큰지 판단하는 장치, 회로
    
    아날로그에서 보통 쓰임, 지금 배우는 MCU 내부에도 하드웨어 컴퍼레이터 존재
    
    아날로그 입력을 받고 판단해서 디지털 신호로 알려주는 장치
    

## 프로세스

![image.png](attachment:305050df-0614-4537-a81d-2a71602fc4ed:image.png)

- 프로그램 생성 : MCU가 처리할 동작 정의
- ROM에 입력 : 쓸려면 저장해야지 그치;;…
- CPU 활성화 : ROM으로부터 프로그램을 읽음. 그에 따른 프로그램 임무를 연속적으로 처리
- 기능 수행 : ALU은 산술, 논리 연산과 데이터 전송, 쉬프터는 데이터 이동시킴
- 임시 저장 데이터 : 처리중에 임시저장 필요하면 RAM, 레지스터 사용. RAM: 큰거 레지스터: 작은거 저장
- 보조모듈에 전송되는 명령 : CPU → 보조모듈 명령 꾸짖을 갈!!!!!
- 보조모듈 및 외부회로 간에 교환되는 데이터 :  CPU와 교환됨 꾸짖을 갈22
